$(document).ready(function(){
   var iframeUrlMap = [
       'https://data.humdata.org/hxlpreview/show;url=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2F1_S6PA5L32Mq7H_cfp9NAe-Y8-17hNer2OMyb3hVPTvU%2Fexport%3Fformat%3Dcsv%26id%3D1_S6PA5L32Mq7H_cfp9NAe-Y8-17hNer2OMyb3hVPTvU%26gid%3D1516521608;embeddedConfig=%7B%22configVersion%22%3A2%2C%22bites%22%3A%5B%7B%22init%22%3Atrue%2C%22type%22%3A%22key%20figure%22%2C%22filteredValues%22%3A%5B%5D%2C%22ingredient%22%3A%7B%22aggregateColumn%22%3Anull%2C%22valueColumn%22%3A%22%23country%2Bname%22%2C%22aggregateFunction%22%3A%22distinct-count%22%7D%2C%22dataTitle%22%3A%22%23country%2Bname%22%2C%22displayCategory%22%3A%22Key%20Figures%22%2C%22unit%22%3Anull%2C%22hashCode%22%3A760157022%2C%22title%22%3A%22Countries%20affected%22%2C%22value%22%3Anull%7D%2C%7B%22init%22%3Atrue%2C%22type%22%3A%22timeseries%22%2C%22filteredValues%22%3A%5B%5D%2C%22swapAxis%22%3Atrue%2C%22showGrid%22%3Atrue%2C%22pieChart%22%3Afalse%2C%22ingredient%22%3A%7B%22aggregateColumn%22%3Anull%2C%22valueColumn%22%3A%22%23affected%22%2C%22aggregateFunction%22%3A%22sum%22%2C%22dateColumn%22%3A%22%23date%2Bdata%2Bpublication%22%7D%2C%22dataTitle%22%3A%22Affected%22%2C%22displayCategory%22%3A%22Timeseries%22%2C%22hashCode%22%3A-459370349%2C%22title%22%3A%22Cumulative%20Affected%22%2C%22values%22%3Anull%2C%22categories%22%3Anull%2C%22description%22%3A%22Includes%20confirmed%20cases%2C%20suspected%20cases%2C%20and%20deaths%22%7D%5D%7D',
       'https://data.humdata.org/hxlpreview/show;url=http%3A%2F%2Fdata.humdata.org%2Fdataset%2F76583b88-b732-4ed4-bd42-bf1d5d9e03e9%2Fresource%2Facac599d-b987-4808-98af-e9fe814b1ef1%2Fdownload%2Fafghanistan_conflict_displacements_2017.xlsx;embeddedConfig=%7B%22configVersion%22%3A2%2C%22bites%22%3A%5B%7B%22init%22%3Atrue%2C%22type%22%3A%22key%20figure%22%2C%22filteredValues%22%3A%5B%5D%2C%22ingredient%22%3A%7B%22aggregateColumn%22%3Anull%2C%22valueColumn%22%3A%22%23affected%2Bdisplaced%22%2C%22aggregateFunction%22%3A%22sum%22%7D%2C%22dataTitle%22%3A%22%23affected%2Bdisplaced%22%2C%22displayCategory%22%3A%22Key%20Figures%22%2C%22unit%22%3A%22k%22%2C%22hashCode%22%3A-1143253646%2C%22title%22%3A%22Individuals%20displaced%22%2C%22value%22%3Anull%7D%2C%7B%22init%22%3Atrue%2C%22type%22%3A%22key%20figure%22%2C%22filteredValues%22%3A%5B%5D%2C%22ingredient%22%3A%7B%22aggregateColumn%22%3Anull%2C%22valueColumn%22%3A%22%23affected%2Bdispalced%2Bfamilies%22%2C%22aggregateFunction%22%3A%22sum%22%7D%2C%22dataTitle%22%3A%22%23affected%2Bdispalced%2Bfamilies%22%2C%22displayCategory%22%3A%22Key%20Figures%22%2C%22unit%22%3A%22k%22%2C%22hashCode%22%3A927977649%2C%22title%22%3A%22Families%20displaced%22%2C%22value%22%3Anull%7D%2C%7B%22init%22%3Atrue%2C%22type%22%3A%22timeseries%22%2C%22filteredValues%22%3A%5B%5D%2C%22swapAxis%22%3Atrue%2C%22showGrid%22%3Atrue%2C%22pieChart%22%3Afalse%2C%22ingredient%22%3A%7B%22aggregateColumn%22%3Anull%2C%22valueColumn%22%3A%22%23affected%2Bdisplaced%22%2C%22aggregateFunction%22%3A%22sum%22%2C%22dateColumn%22%3A%22%23date%2Boccurred%22%7D%2C%22dataTitle%22%3A%22%23affected%2Bdisplaced%22%2C%22displayCategory%22%3A%22Timeseries%22%2C%22hashCode%22%3A1913970515%2C%22title%22%3A%22Timeline%20of%20conflict%20displacement%22%2C%22values%22%3Anull%2C%22categories%22%3Anull%7D%5D%7D',
       'https://data.humdata.org/hxlpreview/show;url=http%3A%2F%2Fdata.humdata.org%2Fdataset%2Fd7ab89e4-bcb2-4127-be3c-5e8cf804ffd3%2Fresource%2F1ac80d41-4fd0-4f65-8f04-2cd98f4c09b1%2Fdownload%2Fmali_3wop_juin-2017.xls;embeddedConfig=%7B%22configVersion%22%3A2%2C%22bites%22%3A%5B%7B%22init%22%3Atrue%2C%22type%22%3A%22key%20figure%22%2C%22filteredValues%22%3A%5B%5D%2C%22ingredient%22%3A%7B%22aggregateColumn%22%3Anull%2C%22valueColumn%22%3A%22%23count%22%2C%22aggregateFunction%22%3A%22count%22%7D%2C%22dataTitle%22%3A%22%23count%22%2C%22displayCategory%22%3A%22Key%20Figures%22%2C%22unit%22%3Anull%2C%22hashCode%22%3A-542997807%2C%22title%22%3A%22Row%20Count%22%2C%22value%22%3Anull%7D%2C%7B%22init%22%3Atrue%2C%22type%22%3A%22chart%22%2C%22filteredValues%22%3A%5B%5D%2C%22swapAxis%22%3Atrue%2C%22showGrid%22%3Atrue%2C%22pieChart%22%3Afalse%2C%22ingredient%22%3A%7B%22aggregateColumn%22%3A%22%23adm1%2Bname%22%2C%22valueColumn%22%3A%22%23count%22%2C%22aggregateFunction%22%3A%22count%22%7D%2C%22dataTitle%22%3A%22%23count%22%2C%22displayCategory%22%3A%22Charts%22%2C%22hashCode%22%3A1314285494%2C%22title%22%3A%22Row%20Count%20grouped%20by%20AdminName%22%2C%22values%22%3Anull%2C%22categories%22%3Anull%7D%2C%7B%22init%22%3Atrue%2C%22type%22%3A%22chart%22%2C%22filteredValues%22%3A%5B%5D%2C%22swapAxis%22%3Atrue%2C%22showGrid%22%3Atrue%2C%22pieChart%22%3Afalse%2C%22ingredient%22%3A%7B%22aggregateColumn%22%3A%22%23adm1%2Bcode%22%2C%22valueColumn%22%3A%22%23count%22%2C%22aggregateFunction%22%3A%22count%22%7D%2C%22dataTitle%22%3A%22%23count%22%2C%22displayCategory%22%3A%22Charts%22%2C%22hashCode%22%3A1313970968%2C%22title%22%3A%22Row%20Count%20grouped%20by%20Pcode%22%2C%22values%22%3Anull%2C%22categories%22%3Anull%7D%5D%7D'
   ];
   var datasetUrlMap = [
       'https://data.humdata.org/dataset/zika-cases-per-country-in-south-and-central-america',
       'https://data.humdata.org/dataset/afghanistan-conflict-induced-displacements-in-2017',
       'https://data.humdata.org/dataset/mali-3wop-juin'
   ];

    var changeSelection = function (idx) {
        var iframeUrl = iframeUrlMap[idx];
        var datasetUrl = datasetUrlMap[idx];
        $("#quick-chart-iframe").attr("src", iframeUrl);
        $("#quick-chart-dataset").attr("href", datasetUrl);
    };

    // $("#quick-chart-select").select2();
    $("#quick-chart-select").change(function (event) {
       var idx = this.value;
        changeSelection(idx);
    });

    changeSelection(0);
});